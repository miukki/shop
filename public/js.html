<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<script type="text/javascript" src="javascripts/jquery-1.7.1.min.js"></script>
<script type="text/javascript">

$('document').ready(function() {

	$('form :submit').css("background","#f0b7a1");	

	function mouseShowHandler(e){
		e = e || window.event
		
		//for IE
		if (e.pageX == null && e.clientX != null ) { 
			var html = document.documentElement;
			var body = document.body

			e.pageX = e.clientX + (html && html.scrollLeft || body && body.scrollLeft || 0) - (html.clientLeft || 0)
			e.pageY = e.clientY + (html && html.scrollTop || body && body.scrollTop || 0) - (html.clientTop || 0)
		}
		
		//all browsers
		var ArgMouseX = $('#mouseX');
		var ArgMouseY = $('#mouseY');

		ArgMouseX.css('width','50px');//как дописать дополнитеьные стили
		ArgMouseY.css('width','50px');
		
		ArgMouseX.val(e.pageX);
		ArgMouseY.val(e.pageY);
	}
	
	$('body').mousemove(mouseShowHandler);


		var currentView = $('#view').val();
		var lastView = Number();
		var lastOp = '';

		
		function getId(elem){
			return document.getElementById(elem);
		}


		var _view = function (event) {
			currentView = currentView + this.value;
			getId('view').value = currentView;
			return false;
		};

		var _numeric = function (event) {
			var op = this.value;

			if (lastView && lastOp) {
				switch (lastOp) {
					case ':':
						currentView = Number(lastView) / Number(currentView);
						break;
					case 'x':
						currentView = Number(lastView) * Number(currentView);
						break;
					case '+':
						currentView = Number(lastView) + Number(currentView);
						break;
					case '-':
						currentView = Number(lastView) - Number(currentView);
						break;
					case '=':
						currentView = Number(lastView);
						break;
					};

					lastOp = op;
					lastView = currentView;
					currentView = '';
					getId('view').value = lastView;
			} 

			else {
				lastView = currentView;
				lastOp = op;
				currentView = '';
				getId('view').value = lastView;
			};
			return false;
		};



		var digits = document.getElementsByClassName('digit');
		for (var i in digits) {
			digits[i].onclick = _view;
		};

		var operations = document.getElementsByClassName('op');
		for (i in operations) {
			var op = operations[i];
			op.onclick = _numeric;
		};

	
});

</script>

	<style>
		.calc input{margin-top:5px;margin-left:10px;background-color:#fff;}
		.calc{margin:20px 0;width:200px;}
		.calcItem{width:34px;}
	</style>


</head>


<body>




<input type="text" id="mouseX" value="" >
<input type="text" id="mouseY" value="">

<input type="button" class="event." value="look mouseX/mouseY" onclick="" />

<form id="calcParent" class="calc">
	<input id="view" value="" type="text">

	<input class="digit" type="submit" value="7">
	<input class="digit" type="submit" value="8">
	<input class="digit" type="submit" value="9">
	<input id="devide" class="op" type="submit" value=":">

	<input class="digit" type="submit" value="4">
	<input class="digit" type="submit" value="5">
	<input class="digit" type="submit" value="6">
	<input id="multiply" class="op" type="submit" value="x">

	<input class="digit" type="submit" value="1">
	<input class="digit" type="submit" value="2">
	<input class="digit" type="submit" value="3">
	<input id="minus" class="op" type="submit" value="-">

	<input class="digit" type="submit" value="0">
	<input class="digit" type="submit" value=".">
	<input id="reset" class="op" type="submit" value="C">
	<input id="plus" class="op" type="submit" value="+">

	<input type="submit" class="op" value="=">
	
</form>
<input type="submit" value="delete calc" onclick="removeChildren(document.getElementById('calcParent'))" >

<script type="text/javascript">
	function removeChildren(node) 
	{
	    var children = node.childNodes;
		while(children.length)
		{
				node.removeChild(children[0]);
		}
	}
</script>

</body>

</html>
